<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>رحلة سورة الكهف التفاعلية</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Naskh+Arabic:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Naskh Arabic', serif;
            direction: rtl;
        }

        .station-item {
            transition: background-color 0.3s ease;
        }

        .station-item:hover {
            background-color: #f5f5f4;
            /* stone-200 */
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 50px;
            max-height: 50px;
        }

        .thumn-highlight {
            border-right: 8px solid #065f46;
            /* emerald-800 for the bar */
            padding-right: 12px;
            /* Add some padding to separate content from the bar */
            position: relative;
        }

        .thumn-highlight::before {
            content: "ثمن";
            position: absolute;
            right: -8px;
            /* Position it on the border */
            top: 50%;
            transform: translateY(-50%) rotate(90deg);
            /* Rotate to be vertical */
            background-color: #065f46;
            /* Same as border for consistency */
            color: white;
            font-size: 0.75rem;
            padding: 2px 4px;
            border-radius: 4px;
            white-space: nowrap;
            z-index: 10;
        }

        /* Custom scrollbar for modal content if needed */
        .modal-scrollable-content::-webkit-scrollbar {
            width: 8px;
        }

        .modal-scrollable-content::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        .modal-scrollable-content::-webkit-scrollbar-thumb {
            background: #a3a3a3;
            /* stone-400 */
            border-radius: 10px;
        }

        .modal-scrollable-content::-webkit-scrollbar-thumb:hover {
            background: #78716c;
            /* stone-500 */
        }
    </style>
</head>

<body class="bg-stone-100 text-stone-800">
    <header class="text-center mb-8 pt-4 relative">
        <a href="../../index.html"
            class="absolute top-4 right-4 bg-emerald-600 hover:bg-emerald-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md text-sm md:text-base">
            العودة للصفحة الرئيسية
        </a>
        <h0 class="text-6xl md:text-7xl font-extrabold text-emerald-800 mb-4">الكهف</h0>
        <h1 class="text-4xl md:text-5xl font-bold text-emerald-700 mb-2">رحلة سورة الكهف التفاعلية</h1>
        <p class="text-lg text-emerald-600">برواية قالون - باستخدام طريقة الرحلة</p>
    </header>

    <div class="container mx-auto p-4 md:p-8 max-w-4xl">
        <section class="mb-8 p-6 bg-white rounded-lg shadow-md">
            <h2 class="text-2xl font-semibold text-emerald-700 mb-3">مقدمة عن طريقة الرحلة</h2>
            <p class="mb-2 leading-relaxed">تعتمد طريقة الرحلة (أو قصر الذاكرة) على ربط المعلومات التي ترغب في حفظها
                بمواقع محددة في رحلة ذهنية مألوفة. في هذا التطبيق، ستسافر عبر "رحلة الكهف" الخيالية، حيث تمثل كل محطة
                من محطاتها الـ 110 آية من آيات سورة الكهف.</p>
            <p class="leading-relaxed">عند كل محطة، ستجد الآية الكريمة وتصوراً بصرياً مقترحاً لمساعدتك على ترسيخها في
                ذهنك. نأمل أن تكون هذه الرحلة ممتعة ومفيدة لك في حفظ وتدبر سورة الكهف.</p>
        </section>

        <section id="progressSection" class="my-8">
            <h2 class="text-2xl font-semibold text-emerald-700 mb-3 text-center">مستوى التقدم في الرحلة:</h2>
            <div class="chart-container mb-6 bg-white p-2 rounded-lg shadow">
                <canvas id="progressChart"></canvas>
            </div>
        </section>

        <section>
            <h2 class="text-2xl font-semibold text-emerald-700 mb-4 text-center">محطات الرحلة</h2>
            <div id="stationsList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
            </div>
        </section>

        <div id="stationModal"
            class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 hidden z-50 transition-opacity duration-300 ease-in-out">
            <div class="bg-white p-6 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col">
                <div class="flex justify-between items-center mb-4">
                    <h3 id="modalStationName" class="text-2xl font-bold text-emerald-700"></h3>
                    <button id="closeModalButton"
                        class="text-stone-500 hover:text-stone-700 text-3xl leading-none">&times;</button>
                </div>

                <div class="overflow-y-auto pr-2 flex-grow modal-scrollable-content">
                    <p id="modalStationAyah"
                        class="text-xl md:text-2xl leading-relaxed md:leading-loose mb-4 whitespace-pre-line text-justify">
                    </p>
                    <p id="modalStationCue" class="text-stone-600 text-base leading-relaxed mb-6"></p>
                    <img id="modalStationImage" class="w-24 h-24 rounded-full object-cover mx-auto mb-4"
                        alt="صورة المحطة" onerror="this.style.display='none'">
                </div>

                <div class="mt-auto pt-4 border-t border-stone-200 flex justify-between items-center">
                    <button id="prevStationButton"
                        class="bg-emerald-600 hover:bg-emerald-700 text-white font-semibold py-2 px-4 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed">السابقة</button>
                    <span id="modalStationNumber" class="text-sm text-stone-500"></span>
                    <button id="nextStationButton"
                        class="bg-emerald-600 hover:bg-emerald-700 text-white font-semibold py-2 px-4 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed">التالية</button>
                </div>
            </div>
        </div>

    </div>

    <script>
        const stationsData = [
            { id: 1, name: "كتاب الهدى المستقيم", emoji: "📜✨", ayah: "الْحَمْدُ لِلَّهِ الَّذِي أَنزَلَ عَلَىٰ عَبْدِهِ الْكِتَابَ وَلَمْ يَجْعَل لَّهُ عِوَجًا", cue: "تصور كتابًا مستقيمًا لا عوج فيه، يضيء طريقك بالحمد والثناء لله الذي أنزله.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=كتاب" },
            { id: 2, name: "البشارة والنذير", emoji: "📢🌟", ayah: "قَيِّمًا لِّيُنذِرَ بَأْسًا شَدِيدًا مِّن لَّدُنْهُ وَيُبَشِّرَ الْمُؤْمِنِينَ الَّذِينَ يَعْمَلُونَ الصَّالِحَاتِ أَنَّ لَهُمْ أَجْرًا حَسَنًا", cue: "شاهد ميزاناً يحمل إنذاراً شديداً على كفة، وبشارة الأجر الحسن للمؤمنين الصالحين على الكفة الأخرى.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=بشارة" },
            { id: 3, name: "الخلود الأبدي", emoji: "♾️🏡", ayah: "مَّاكَثِينَ فِيهِ أَبَدًا", cue: "تخيل نفسك في مكان جميل لا نهاية له، تظل فيه أبدًا.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=خلود" },
            { id: 4, name: "إنذار من الشرك", emoji: "🚫👨‍👦", ayah: "وَيُنذِرَ الَّذِينَ قَالُوا اتَّخَذَ اللَّهُ وَلَدًا", cue: "تذكر صوتاً قوياً ينذر الذين ينسبون لله ولدًا، تحذيرٌ واضح لهم.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=إنذار" },
            { id: 5, name: "عظمة الكلمة", emoji: "🗣️⛰️", ayah: "مَّا لَهُم بِهِ مِنْ عِلْمٍ وَلَا لِآبَائِهِمْ ۚ كَبُرَتْ كَلِمَةً تَخْرُجُ مِنْ أَفْوَاهِهِمْ ۚ إِن يَقُولُونَ إِلَّا كَذِبًا", cue: "تخيل كلمة تخرج من الفم وتكبر حتى تصبح جبلاً ضخماً، تعكس عظم الكذب.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=كلمة" },
            { id: 6, name: "حزن النبي", emoji: "😢💔", ayah: "فَلَعَلَّكَ بَاخِعٌ نَّفْسَكَ عَلَىٰ آثَارِهِمْ إِن لَّمْ يُؤْمِنُوا بِهَٰذَا الْحَدِيثِ أَسَفًا", cue: "تصور نبيًا حزيناً جداً على عدم إيمان قومه، وكأن روحه تكاد تخرج من شدة الأسف.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=حزن" },
            { id: 7, name: "زينة الأرض واختبارها", emoji: "🌸🌍", ayah: "إِنَّا جَعَلْنَا مَا عَلَى الْأَرْضِ زِينَةً لَّهَا لِنَبْلُوَهُمْ أَيُّهُمْ أَحْسَنُ عَمَلًا", cue: "انظر حولك إلى زينة الأرض من نبات وحيوان، وتذكر أنها اختبار لعملك.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=زينة" },
            { id: 8, name: "أرض جرداء", emoji: "🏜️🌪️", ayah: "وَإِنَّا لَجَاعِلُونَ مَا عَلَيْهَا صَعِيدًا جُرُزًا", cue: "تخيل أن هذه الزينة كلها ستصبح يومًا ما أرضًا جرداء يابسة لا شيء عليها.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=جرداء" },
            { id: 9, name: "لغز أهل الكهف", emoji: "❓🤔", ayah: "أَمْ حَسِبْتَ أَنَّ أَصْحَابَ الْكَهْفِ وَالرَّقِيمِ كَانُوا مِنْ آيَاتِنَا عَجَبًا", cue: "افكر في قصة أصحاب الكهف، هل ظننت أنها أغرب آياتنا؟", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=لغز" },
            { id: 10, name: "الفتية في الكهف", emoji: "⛰️🙏", ayah: "إِذْ أَوَى الْفِتْيَةُ إِلَى الْكَهْفِ فَقَالُوا رَبَّنَا آتِنَا مِن لَّدُنكَ رَحْمَةً وَهَيِّئْ لَنَا مِنْ أَمْرِنَا رَشَدًا", cue: "شاهد مجموعة من الشباب يختبئون في كهف، يرفعون أيديهم بالدعاء طالبين الرحمة والرشد.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=فتية" },
            { id: 11, name: "سنوات النوم الطويلة", emoji: "😴⏳", ayah: "فَضَرَبْنَا عَلَىٰ آذَانِهِمْ فِي الْكَهْفِ سِنِينَ عَدَدًا", cue: "تخيل آذاناً يُضرب عليها بحاجز يمنع السماع، لينام أصحابها لسنوات طويلة جداً.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=نوم" },
            { id: 12, name: "الإيقاظ للاختبار", emoji: "☀️🧐", ayah: "ثُمَّ بَعَثْنَاهُمْ لِنَعْلَمَ أَيُّ الْحِزْبَيْنِ أَحْصَىٰ لِمَا لَبِثُوا أَمَدًا", cue: "شاهد استيقاظهم المفاجئ بعد نوم عميق، وكأنهم يستيقظون ليُختبروا في معرفة مدة نومهم.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=إيقاظ" },
            { id: 13, name: "ثبات القلوب", emoji: "❤️🛡️", ayah: "نَّحْنُ نَقُصُّ عَلَيْكَ نَبَأَهُم بِالْحَقِّ ۚ إِنَّهُمْ فِتْيَةٌ آمَنُوا بِرَبِّهِمْ وَزِدْنَاهُمْ هُدًى", cue: "شاهد قلوبًا قوية ومثبتة، تزداد هدى مع كل موقف صعب يواجهونه.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=ثبات" },
            { id: 14, thumn: true, name: "إعلان التوحيد", emoji: "🗣️☝️", ayah: "وَرَبَطْنَا عَلَىٰ قُلُوبِهِمْ إِذْ قَامُوا فَقَالُوا رَبُّنَا رَبُّ السَّمَاوَاتِ وَالْأَرْضِ لَن نَّدْعُوَ مِن دُونِهِ إِلَٰهًا ۖ لَّقَدْ قُلْنَا إِذًا شَطَطًا", cue: "تخيلهم يقفون بشجاعة ليعلنوا إيمانهم برب السموات والأرض وحده، رافضين كل إله سواه.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=توحيد" },
            { id: 15, name: "تحذير من شرك قومهم", emoji: "🗿🚫", ayah: "هَٰؤُلَاءِ قَوْمُنَا اتَّخَذُوا مِن دُونِهِ آلِهَةً ۖ لَّوْلَا يَأْتُونَ عَلَيْهِم بِسُلْطَانٍ بَيِّنٍ ۖ فَمَنْ أَظْلَمُ مِمَّنِ افْتَرَىٰ عَلَى اللَّهِ كَذِبًا", cue: "شاهد قومهم يعبدون أصنامًا، ويتساءل لماذا لا يأتون بدليل واضح على هذا الشرك، فذلك أظلم الافتراء.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=شرك" },
            { id: 16, name: "الرحمة والمرفق", emoji: "🤲⛰️", ayah: "وَإِذِ اعْتَزَلْتُمُوهُمْ وَمَا يَعْبُدُونَ إِلَّا اللَّهَ فَأْوُوا إِلَى الْكَهْفِ يَنشُرْ لَكُمْ رَبُّكُم مِّن رَّحْمَتِهِ وَيُهَيِّئْ لَكُم مِّنْ أَمْرِكُم مِّرْفَقًا", cue: "تخيل أنكم تعتزلون الشر وتلجأون إلى الكهف، فتجدون الرحمة والمرفق يهيئ لكم أمراً يسيراً.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=رحمة" },
            { id: 17, name: "شمس الكهف", emoji: "☀️⛰️➡️", ayah: "وَتَرَى الشَّمْسَ إِذَا طَلَعَت تَّزَاوَرُ عَن كَهْفِهِمْ ذَاتَ الْيَمِينِ وَإِذَا غَرَبَت تَّقْرِضُهُمْ ذَاتَ الشِّمَالِ وَهُمْ فِي فَجْوَةٍ مِّنْهُ ۚ ذَٰلِكَ مِنْ آيَاتِ اللَّهِ ۗ مَن يَهْدِ اللَّهُ فَهُوَ الْمُهْتَدِ ۖ وَمَن يُضْلِلْ فَلَن تَجِدَ لَهُ وَلِيًّا مُّرْشِدًا", cue: "راقب الشمس وهي تميل عن الكهف عند الشروق والغروب، ليظلوا في فجوة باردة، هذه آية من آيات الله.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=شمس" },
            { id: 18, name: "كلبهم حارسهم", emoji: "🐕😴", ayah: "وَتَحْسَبُهُمْ أَيْقَاظًا وَهُمْ رُقُودٌ ۚ وَنُقَلِّبُهُمْ ذَاتَ الْيَمِينِ وَذَاتَ الشِّمَالِ ۖ وَكَلْبُهُم بَاسِطٌ ذِرَاعَيْهِ بِالْوَصِيدِ ۚ لَوِ اطَّلَعْتَ عَلَيْهِمْ لَوَلَّيْتَ مِنْهُمْ فِرَارًا وَلَمُلِئْتَ مِنْهُمْ رُعْبًا", cue: "شاهد كلبًا يبسط ذراعيه عند مدخل الكهف يحرسهم، وهم في رقود وكأنهم أيقاظ، لو رأيتهم لفررت رعباً.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=كلب" },
            { id: 19, name: "بعث بعد قرون", emoji: "🕰️🗣️", ayah: "وَكَذَٰلِكَ بَعَثْنَاهُمْ لِيَتَسَاءَلُوا بَيْنَهُمْ ۚ قَالَ قَائِلٌ مِّنْهُمْ كَمْ لَبِثْتُمْ ۖ قَالُوا لَبِثْنَا يَوْمًا أَوْ بَعْضَ يَوْمٍ ۚ قَالُوا رَبُّكُمْ أَعْلَمُ بِمَا لَبِثْتُمْ فَابْعَثُوا أَحَدَكُم بِوَرِقِكُمْ هَٰذِهِ إِلَى الْمَدِينَةِ فَلْيَنظُرْ أَيُّهَا أَزْكَىٰ طَعَامًا فَلْيَأْتِكُم بِرِزْقٍ مِّنْهُ وَلْيَتَلَطَّفْ وَلَا يُشْعِرَنَّ بِكُمْ أَحَدًا", cue: "استيقظوا فجأة يتساءلون عن مدة نومهم، ثم قرروا إرسال أحدهم لشراء طعام حلال من المدينة بحذر.", imageUrl: "https://https://placehold.co/100x100/D1FAE5/065F46?text=استيقاظ" },
            { id: 20, name: "خطر الكشف", emoji: "🪨🤫", ayah: "إِنَّهُمْ إِن يَظْهَرُوا عَلَيْكُمْ يَرْجُمُوكُمْ أَوْ يُعِيدُوكُمْ فِي مِلَّتِهِمْ وَلَن تُفْلِحُوا إِذًا أَبَدًا", cue: "تذكر الخطر الشديد إذا كُشف أمرهم، فإما أن يُرجموا أو يُعادوا إلى كفرهم، ولن يفلحوا أبداً.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=خطر" },
            { id: 21, name: "إظهار الآية الربانية", emoji: "🚧🕌", ayah: "وَكَذَٰلِكَ أَعْثَرْنَا عَلَيْهِمْ لِيَعْلَمُوا أَنَّ وَعْدَ اللَّهِ حَقٌّ وَأَنَّ السَّاعَةَ لَا رَيْبَ فِيهَا إِذْ يَتَنَازَعُونَ بَيْنَهُمْ أَمْرَهُمْ ۖ فَقَالُوا ابْنُوا عَلَيْهِم بُنْيَانًا ۖ رَبُّهُمْ أَعْلَمُ بِهِمْ ۚ قَالَ الَّذِينَ غَلَبُوا عَلَىٰ أَمْرِهِمْ لَنَتَّخِذَنَّ عَلَيْهِم مَّسْجِدًا", cue: "تخيل أن الناس عثروا عليهم بالصدفة، ليُظهر الله أن وعده حق، ثم يتنازعون بشأنهم ويقررون بناء مسجد عليهم.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=آية" },
            { id: 22, name: "أعدادهم واختلاف الناس", emoji: "🔢🤫", ayah: "سَيَقُولُونَ ثَلَاثَةٌ رَّابِعُهُمْ كَلْبُهُمْ وَيَقُولُونَ خَمْسَةٌ سَادِسُهُمْ كَلْبُهُمْ رَجْمًا بِالْغَيْبِ ۖ وَيَقُولُونَ سَبْعَةٌ وَثَامِنُهُمْ كَلْبُهُمْ ۚ قُل رَّبِّي أَعْلَمُ بِعِدَّتِهِم مَّا يَعْلَمُهُمْ إِلَّا قَلِيلٌ ۗ فَلَا تُمَارِ فِيهِمْ إِلَّا مِرَاءً ظَاهِرًا وَلَا تَسْتَفْتِ فِيهِم مِّنْهُمْ أَحَدًا", cue: "شاهد الناس يتجادلون حول عددهم، ويقولون ثلاثة أو خمسة أو سبعة، مع كلبهم، بينما الله أعلم بحقيقتهم.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=أعداد" },
            { id: 23, name: "لا تقل إلا إن شاء الله", emoji: "🗣️🙏", ayah: "وَلَا تَقُولَنَّ لِشَيْءٍ إِنِّي فَاعِلٌ ذَٰلِكَ غَدًا", cue: "تذكر قاعدة مهمة: لا تعد بفعل شيء غداً إلا إذا قلت 'إن شاء الله'.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=إن شاء الله" },
            { id: 24, name: "الذكر عند النسيان", emoji: "🧠💭", ayah: "إِلَّا أَن يَشَاءَ اللَّهُ ۚ وَاذْكُر رَّبَّكَ إِذَا نَسِيتَ وَقُلْ عَسَىٰ أَن يَهْدِيَنِ رَبِّي لِأَقْرَبَ مِنْ هَٰذَا رَشَدًا", cue: "إذا نسيت شيئًا، تذكر أن تقول 'إن شاء الله' واذكر ربك، وتأمل أن يهديك لرشد أقرب.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=ذكر" },
            { id: 25, name: "ثلاثمائة وتسع سنوات", emoji: "🕰️🔢", ayah: "وَلَبِثُوا فِي كَهْفِهِمْ ثَلَاثَ مِائَةٍ سِنِينَ وَازْدَادُوا تِسْعًا", cue: "تخيل تقويمًا يمر عليه 300 عام، ثم 9 سنوات إضافية، هي مدة نومهم في الكهف.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=سنوات" },
            { id: 26, name: "علم الغيب لله", emoji: "🌌👂👁️", ayah: "قُلِ اللَّهُ أَعْلَمُ بِمَا لَبِثُوا ۖ لَهُ غَيْبُ السَّمَاوَاتِ وَالْأَرْضِ ۖ أَبْصِرْ بِهِ وَأَسْمِعْ ۚ مَا لَهُم مِّن دُونِهِ مِن وَلِيٍّ وَلَا يُشْرِكُ فِي حُكْمِهِ أَحَدًا", cue: "تذكر أن علم الغيب كله لله، وأن له البصيرة والسمع الكاملين، ولا ولي ولا شريك معه في حكمه.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=غيب" },
            { id: 27, name: "كلمات الله ثابتة", emoji: "📖🔒", ayah: "وَاتْلُ مَا أُوحِيَ إِلَيْكَ مِن كِتَابِ رَبِّكَ ۖ لَا مُبَدِّلَ لِكَلِمَاتِهِ وَلَن تَجِدَ مِن دُونِهِ مُلْتَحَدًا", cue: "تخيل كتابًا سماويًا مفتوحًا، كلماته ثابتة لا تتبدل، ولا ملجأ غير الله.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=كلمات" },
            { id: 28, thumn: true, name: "رفقة الصالحين", emoji: "🤝🌅", ayah: "وَاصْبِرْ نَفْسَكَ مَعَ الَّذِينَ يَدْعُونَ رَبَّهُم بِالْغَدَاةِ وَالْعَشِيِّ يُرِيدُونَ وَجْهَهُ ۖ وَلَا تَعْدُ عَيْنَاكَ عَنْهُمْ تُرِيدُ زِينَةَ الْحَيَاةِ الدُّنْيَا ۖ وَلَا تُطِعْ مَنْ أَغْفَلْنَا قَلْبَهُ عَن ذِكْرِنَا وَاتَّبَعَ هَوَاهُ وَكَانَ أَمْرُهُ فُرُطًا", cue: "شاهد مجموعة من الناس يدعون الله صباحًا ومساءً، وتذكر أن تصبر نفسك معهم ولا تلتفت لزينة الدنيا.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=رفقة" },
            { id: 29, name: "الحق ونار الظالمين", emoji: "⚖️🔥", ayah: "وَقُلِ الْحَقُّ مِن رَّبِّكُمْ ۖ فَمَن شَاءَ فَلْيُؤْمِن وَمَن شَاءَ فَلْيَكْفُرْ ۚ إِنَّا أَعْتَدْنَا لِلظَّالِمِينَ نَارًا أَحَاطَ بِهِمْ سُرَادِقُهَا ۚ وَإِن يَسْتَغِيثُوا يُغَاثُوا بِمَاءٍ كَالْمُهْلِ يَشْوِي الْوُجُوهَ ۚ بِئْسَ الشَّرَابُ وَسَاءَتْ مُرْتَفَقًا", cue: "تخيل نارًا عظيمة تحيط بالظالمين، وإن استغاثوا أُغيثوا بماء كالمُهل يشوي وجوههم، بئس الشراب والمأوى.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=نار" },
            { id: 30, name: "أجر المحسنين", emoji: "💯🎁", ayah: "إِنَّ الَّذِينَ آمَنُوا وَعَمِلُوا الصَّالِحَاتِ إِنَّا لَا نُضِيعُ أَجْرَ مَنْ أَحْسَنَ عَمَلًا", cue: "شاهد يداً تحمل أجرًا عظيماً، وتذكر أن الله لا يضيع أجر المحسنين.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=أجر" },
            { id: 31, name: "جنات عدن ونعيمها", emoji: "🌿💎", ayah: "أُولَٰئِكَ لَهُمْ جَنَّاتُ عَدْنٍ تَجْرِي مِن تَحْتِهِمُ الْأَنْهَارُ يُحَلَّوْنَ فِيهَا مِنْ أَسَاوِرَ مِن ذَهَبٍ وَيَلْبَسُونَ ثِيَابًا خُضْرًا مِّن سُندُسٍ وَإِسْتَبْرَقٍ مُّتَّكِئِينَ فِيهَا عَلَى الْأَرَائِكِ ۚ نِعْمَ الثَّوَابُ وَحَسُنَتْ مُرْتَفَقًا", cue: "تخيل جنات عدن تجري من تحتها الأنهار، فيها الأساور الذهبية والثياب الخضراء، ونعيم الأرائك.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=جنة" },
            { id: 32, name: "مثل الرجلين", emoji: "👨‍🌾👨‍🌾", ayah: "وَاضْرِبْ لَهُم مَّثَلًا رَّجُلَيْنِ جَعَلْنَا لِأَحَدِهِمَا جَنَّتَيْنِ مِنْ أَعْنَابٍ وَحَفَفْنَاهُمَا بِنَخْلٍ وَجَعَلْنَا بَيْنَهُمَا زَرْعًا", cue: "شاهد رجلين، أحدهما يمتلك جنات عنب ونخل وزرع، بينما الآخر لا يملك شيئاً.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=مثل" },
            { id: 33, name: "الجنة المثمرة والنهر", emoji: "🍇🌴💧", ayah: "كِلْتَا الْجَنَّتَيْنِ آتَتْ أُكُلَهَا وَلَمْ تَظْلِم مِّنْهُ شَيْئًا ۚ وَفَجَّرْنَا خِلَالَهُمَا نَهَرًا", cue: "تخيل الجنتين تخرجان ثمارهما بلا نقصان، ونهرًا يفجر بينهما الماء العذب.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=نهر+جنة" },
            { id: 34, name: "كبرياء صاحب الجنتين", emoji: "💰👑", ayah: "وَكَانَ لَهُ ثَمَرٌ فَقَالَ لِصَاحِبِهِ وَهُوَ يُحَاوِرُهُ أَنَا أَكْثَرُ مِنكَ مَالًا وَأَعَزُّ نَفَرًا", cue: "شاهد صاحب الجنتين يتفاخر بماله وكثرة أنصاره على صاحبه الفقير.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=كبرياء" },
            { id: 35, name: "دخول الجنة بظلم", emoji: "🚶‍♂️🌳🚫", ayah: "وَدَخَلَ جَنَّتَهُ وَهُوَ ظَالِمٌ لِّنَفْسِهِ قَالَ مَا أَظُنُّ أَن تَبِيدَ هَٰذِهِ أَبَدًا", cue: "تصور الرجل يدخل جنته وهو ظالم لنفسه، ويظن أنها لن تفنى أبداً.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=ظلم" },
            { id: 36, name: "إنكار الساعة", emoji: "⏳❌", ayah: "وَمَا أَظُنُّ السَّاعَةَ قَائِمَةً وَلَئِن رُّدِدتُّ إِلَىٰ رَبِّي لَأَجِدَنَّ خَيْرًا مِّنْهَا مُنقَلَبًا", cue: "تخيل رجلاً ينكر قيام الساعة، ويزعم أنه إن رُدّ إلى ربه سيجد خيراً من جنته.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=ساعة+منكرة" },
            { id: 37, name: "عتاب المؤمن", emoji: "🗣️🙏", ayah: "قَالَ لَهُ صَاحِبُهُ وَهُوَ يُحَاوِرُهُ أَكَفَرْتَ بِالَّذِي خَلَقَكَ مِن تُرَابٍ ثُمَّ مِن نُّطْفَةٍ ثُمَّ سَوَّاكَ رَجُلًا", cue: "شاهد المؤمن يعاتب صاحبه: كيف كفرت بالذي خلقك من تراب ثم سّواك رجلاً؟", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=عتاب" },
            { id: 38, name: "توحيد الله ربي", emoji: "☝️❤️", ayah: "لَّٰكِنَّا هُوَ اللَّهُ رَبِّي وَلَا أُشْرِكُ بِرَبِّي أَحَدًا", cue: "اشعر بقوة الإيمان والتوحيد: هو الله ربي، ولا أشرك به أحداً.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=توحيد+ربي" },
            { id: 39, name: "بركة 'ما شاء الله'", emoji: "✨🤲", ayah: "وَلَوْلَا إِذْ دَخَلْتَ جَنَّتَكَ قُلْتَ مَا شَاءَ اللَّهُ لَا قُوَّةَ إِلَّا بِاللَّهِ ۚ إِن تَرَنِ أَنَا أَقَلَّ مِنكَ مَالًا وَوَلَدًا", cue: "عند دخول مكان جميل، تذكر أن تقول 'ما شاء الله لا قوة إلا بالله' لجلب البركة.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=ما شاء الله" },
            { id: 40, name: "المطر والعذاب", emoji: "🌧️⚡", ayah: "فَعَسَىٰ رَبِّي أَن يُؤْتِيَنِ خَيْرًا مِّن جَنَّتِكَ وَيُرْسِلَ عَلَيْهَا حُسْبَانًا مِّنَ السَّمَاءِ فَتُصْبِحَ صَعِيدًا زَلَقًا", cue: "تصور مطراً من السماء يتحول إلى عذاب، فيجعل الجنة أرضاً جرداء زلقة.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=مطر+عذاب" },
            { id: 41, name: "غور الماء", emoji: "💧⬇️", ayah: "أَوْ يُصْبِحَ مَاؤُهَا غَوْرًا فَلَن تَسْتَطِيعَ لَهُ طَلَبًا", cue: "تخيل الماء يغور في الأرض، ويصبح لا سبيل لاستخراجه.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=غور+ماء" },
            { id: 42, thumn: true, name: "الندم بعد الخسارة", emoji: "💔💸", ayah: "وَأُحِيطَ بِثَمَرِهِ فَأَصْبَحَ يُقَلِّبُ كَفَّيْهِ عَلَىٰ مَا أَنفَقَ فِيهَا وَهِيَ خَاوِيَةٌ عَلَىٰ عُرُوشِهَا وَيَقُولُ يَا لَيْتَنِي لَمْ أُشْرِكْ بِرَبِّي أَحَدًا", cue: "شاهد رجلاً يقلب كفيه حسرة على جنته التي دُمرت، وهو يندم على شركه بالله.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=ندم+خسارة" },
            { id: 43, name: "لا ناصر إلا الله", emoji: "🚫💪", ayah: "وَلَمْ تَكُن لَّهُ فِئَةٌ يَنصُرُونَهُ مِن دُونِ اللَّهِ وَمَا كَانَ مُنتَصِرًا", cue: "تصور رجلاً وحيداً بلا ناصر أو معين له من دون الله، فلا يستطيع الانتصار.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=لا ناصر" },
            { id: 44, name: "الولاية لله الحق", emoji: "👑✨", ayah: "هُنَالِكَ الْوَلَايَةُ لِلَّهِ الْحَقِّ ۚ هُوَ خَيْرٌ ثَوَابًا وَخَيْرٌ عُقْبًا", cue: "تذكر أن الولاية الحقيقية لله وحده، وهو خير ثواباً وخير عاقبة.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=ولاية" },
            { id: 45, name: "مثل الحياة الدنيا", emoji: "🌧️🍂", ayah: "وَاضْرِبْ لَهُم مَّثَلَ الْحَيَاةِ الدُّنْيَا كَمَاءٍ أَنزَلْنَاهُ مِنَ السَّمَاءِ فَاخْتَلَطَ بِهِ نَبَاتُ الْأَرْضِ فَأَصْبَحَ هَشِيمًا تَذْرُوهُ الرِّيَاحُ ۗ وَكَانَ اللَّهُ عَلَىٰ كُلِّ شَيْءٍ مُّقْتَدِرًا", cue: "تخيل مطراً ينزل على النبات فيزهو، ثم يصبح هشيماً تذروه الرياح، هذا مثل الحياة الدنيا.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=مثل+دنيا" },
            { id: 46, name: "زينة الحياة والباقيات الصالحات", emoji: "💰👦🌳", ayah: "الْمَالُ وَالْبَنُونَ زِينَةُ الْحَيَاةِ الدُّنْيَا ۖ وَالْبَاقِيَاتُ الصَّالِحَاتُ خَيْرٌ عِندَ رَبِّكَ ثَوَابًا وَخَيْرٌ أَمَلًا", cue: "شاهد المال والبنين كزينة، ثم تذكر أن الأفعال الصالحة هي الأفضل والأبقى عند ربك.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=زينة+باقيات" },
            { id: 47, name: "يوم تسيير الجبال", emoji: "⛰️🚶‍♀️", ayah: "وَيَوْمَ نُسَيِّرُ الْجِبَالَ وَتَرَى الْأَرْضَ بَارِزَةً وَحَشَرْنَاهُمْ فَلَمْ نُغَادِرْ مِنْهُمْ أَحَدًا", cue: "تخيل يوم القيامة، الجبال تسير والأرض تظهر بارزة، والناس يُحشرون جميعاً بلا استثناء.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=الجبال" },
            { id: 48, name: "عرض الخلائق على ربهم", emoji: "👥⚖️", ayah: "وَعُرِضُوا عَلَىٰ رَبِّكَ صَفًّا لَّقَدْ جِئْتُمُونَا كَمَا خَلَقْنَاكُمْ أَوَّلَ مَرَّةٍ ۚ بَلْ زَعَمْتُمْ أَلَّن نَّجْعَلَ لَكُم مَّوْعِدًا", cue: "شاهد الخلائق تُعرض على الله صفاً واحداً، ويُقال لهم: قد جئتمونا كما خلقناكم أول مرة.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=عرض" },
            { id: 49, name: "الكتاب لا يغادر", emoji: "📖🔍", ayah: "وَوُضِعَ الْكِتَابُ فَتَرَى الْمُجْرِمِينَ مُشْفِقِينَ مِمَّا فِيهِ وَيَقُولُونَ يَا وَيْلَتَنَا مَالِ هَٰذَا الْكِتَابِ لَا يُغَادِرُ صَغِيرَةً وَلَا كَبِيرَةً إِلَّا أَحْصَاهَا ۚ وَوَجَدُوا مَا عَمِلُوا حَاضِرًا ۗ وَلَا يَظْلِمُ رَبُّكَ أَحَدًا", cue: "تخيل كتاب أعمالك مفتوحاً أمامك، لا يترك صغيرة ولا كبيرة إلا أحصاها، والمجرمون يخافون مما فيه.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=كتاب+الأعمال" },
            { id: 50, name: "سجود الملائكة وعصيان إبليس", emoji: "😇😈", ayah: "وَإِذْ قُلْنَا لِلْمَلَائِكَةِ اسْجُدُوا لِآدَمَ فَسَجَدُوا إِلَّا إِبْلِيسَ كَانَ مِنَ الْجِنِّ فَفَسَقَ عَنْ أَمْرِ رَبِّهِ ۗ أَفَتَتَّخِذُونَهُ وَذُرِّيَّتَهُ أَوْلِيَاءَ مِن دُونِي وَهُمْ لَكُمْ عَدُوٌّ ۚ بِئْسَ لِلظَّالِمِينَ بَدَلًا", cue: "تذكر أمر الله للملائكة بالسجود لآدم وطاعة الجميع إلا إبليس الذي عصى، وكيف اتخذوه أولياء.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=إبليس" },
            { id: 51, name: "شهادة الخلق", emoji: "👁️‍🗨️🚫", ayah: "مَّا أَشْهَدتُّهُمْ خَلْقَ السَّمَاوَاتِ وَالْأَرْضِ وَلَا خَلْقَ أَنفُسِهِمْ وَمَا كُنتُ مُتَّخِذَ الْمُضِلِّينَ عَضُدًا", cue: "تخيل أنك لم تشهد خلق السموات والأرض ولا خلق نفسك، وتذكر أن الله لم يتخذ المضلين أعواناً.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=خلق" },
            { id: 52, name: "شركاء لا يستجيبون", emoji: "🗣️👂❌", ayah: "وَيَوْمَ يَقُولُ نَادُوا شُرَكَائِيَ الَّذِينَ زَعَمْتُمْ فَدَعَوْهُمْ فَلَمْ يَسْتَجِيبُوا لَهُمْ وَجَعَلْنَا بَيْنَهُم مَّوْبِقًا", cue: "شاهد يوم القيامة حين يُطلب من المشركين دعاء شركائهم، فلا يستجيبون لهم، ويكون بينهم هلاك.", imageUrl: "https://https://placehold.co/100x100/D1FAE5/065F46?text=شركاء" },
            { id: 53, name: "النار ولا مفر", emoji: "🔥🏃‍♂️🚫", ayah: "وَرَأَى الْمُجْرِمُونَ النَّارَ فَظَنُّوا أَنَّهُم مُّوَاقِعُوهَا وَلَمْ يَجِدُوا عَنْهَا مَصْرِفًا", cue: "شاهد المجرمين يرون النار ويوقنون أنهم واقعون فيها، ولا يجدون عنها مفرًا أو مهرباً.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=لا مفر" },
            { id: 54, name: "أمثال القرآن وجدل الإنسان", emoji: "📖🗣️", ayah: "وَلَقَدْ صَرَّفْنَا فِي هَٰذَا الْقُرْآنِ لِلنَّاسِ مِن كُلِّ مَثَلٍ ۚ وَكَانَ الْإِنسَانُ أَكْثَرَ شَيْءٍ جَدَلًا", cue: "تخيل القرآن يوضح كل مثل للناس، بينما الإنسان يكثر الجدل والخلاف.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=جدل" },
            { id: 55, name: "عناد الكافرين", emoji: "👂🚫", ayah: "وَمَا مَنَعَ النَّاسَ أَن يُؤْمِنُوا إِذْ جَاءَهُمُ الْهُدَىٰ وَيَسْتَغْفِرُوا رَبَّهُمْ إِلَّا أَن تَأْتِيَهُمْ سُنَّةُ الْأَوَّلِينَ أَوْ يَأْتِيَهُمُ الْعَذَابُ قُبُلًا", cue: "تذكر أن ما يمنع الكافرين من الإيمان هو انتظارهم عذاب الأمم السابقة، أو عذاب مباشر.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=عناد" },
            { id: 56, thumn: true, name: "الرسل مبشرين ومنذرين", emoji: "😇📢", ayah: "وَمَا نُرْسِلُ الْمُرْسَلِينَ إِلَّا مُبَشِّرِينَ وَمُنذِرِينَ ۚ وَيُجَادِلُ الَّذِينَ كَفَرُوا بِالْبَاطِلِ لِيُدْحِضُوا بِهِ الْحَقَّ وَاتَّخَذُوا آيَاتِي وَمَا أُنذِرُوا هُزُوًا", cue: "شاهد الرسل يأتون حاملين البشارة والنذارة، بينما الكافرون يجادلون بالباطل ويسخرون من الآيات.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=رسل" },
            { id: 57, name: "القلوب المغلقة والآذان الصماء", emoji: "❤️🔒👂🚫", ayah: "وَمَنْ أَظْلَمُ مِمَّن ذُكِّرَ بِآيَاتِ رَبِّهِ فَأَعْرَضَ عَنْهَا وَنَسِيَ مَا قَدَّمَتْ يَدَاهُ ۚ إِنَّا جَعَلْنَا عَلَىٰ قُلُوبِهِمْ أَكِنَّةً أَن يَفْقَهُوهُ وَفِي آذَانِهِمْ وَقْرًا ۖ وَإِن تَدْعُهُمْ إِلَى الْهُدَىٰ فَلَن يَهْتَدُوا إِذًا أَبَدًا", cue: "تخيل قلوبًا عليها أغلفة وآذانًا فيها صمم، فلا يفقهون ولا يسمعون الهدى أبداً.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=قلوب+صماء" },
            { id: 58, name: "رحمة الله والغفران", emoji: "🤲✨", ayah: "وَرَبُّكَ الْغَفُورُ ذُو الرَّحْمَةِ ۖ لَوْ يُؤَاخِذُهُم بِمَا كَسَبُوا لَعَجَّلَ لَهُمُ الْعَذَابَ ۚ بَل لَّهُم مَّوْعِدٌ لَّن يَجِدُوا مِن دُونِهِ مَوْئِلًا", cue: "اشعر برحمة الله الواسعة وغفرانه، وأنه لو آخذ الناس لَعجّل لهم العذاب، لكن لهم موعد لا مفر منه.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=غفور" },
            { id: 59, name: "هلاك القرى الظالمة", emoji: "🏘️💥", ayah: "وَتِلْكَ الْقُرَىٰ أَهْلَكْنَاهُمْ لَمَّا ظَلَمُوا وَجَعَلْنَا لِمَهْلِكِهِم مَّوْعِدًا", cue: "تخيل قرى أُهلكت بسبب ظلم أهلها، وأن لكل هلاك موعداً محدداً.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=هلاك" },
            { id: 60, name: "موسى ومجمع البحرين", emoji: "🌊🌊🚶‍♂️", ayah: "وَإِذْ قَالَ مُوسَىٰ لِفَتَاهُ لَا أَبْرَحُ حَتَّىٰ أَبْلُغَ مَجْمَعَ الْبَحْرَيْنِ أَوْ أَمْضِيَ حُقُبًا", cue: "شاهد موسى يمشي مع فتاه، يقول لن أتوقف حتى أصل إلى ملتقى البحرين، أو أمضي دهراً طويلاً.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=موسى+بحر" },
            { id: 61, name: "الحوت الهارب", emoji: "🐟➡️🌊", ayah: "فَلَمَّا بَلَغَا مَجْمَعَ بَيْنِهِمَا نَسِيَا حُوتَهُمَا فَاتَّخَذَ سَبِيلَهُ فِي الْبَحْرِ سَرَبًا", cue: "عندما وصلا ملتقى البحرين، نسي موسى وفتاه الحوت، فقفز الحوت واتخذ سبيله في البحر وكأنه نفق.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=حوت" },
            { id: 62, name: "تعب السفر", emoji: "🚶‍♂️ fatigued", ayah: "فَلَمَّا جَاوَزَا قَالَ لِفَتَاهُ آتِنَا غَدَاءَنَا لَقَدْ لَقِينَا مِن سَفَرِنَا هَٰذَا نَصَبًا", cue: "شعر موسى بالتعب بعد أن جاوزا المكان، وطلب من فتاه الغداء لشعورهما بالنصب.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=تعب" },
            { id: 63, name: "الشيطان ونسيان الحوت", emoji: "😈🧠🐟", ayah: "قَالَ أَرَأَيْتَ إِذْ أَوَيْنَا إِلَى الصَّخْرَةِ فَإِنِّي نَسِيتُ الْحُوتَ وَمَا أَنسَانِيهُ إِلَّا الشَّيْطَانُ أَن أَذْكُرَهُ ۚ وَاتَّخَذَ سَبِيلَهُ فِي الْبَحْرِ عَجَبًا", cue: "تذكر فتى موسى أنه نسي الحوت عند الصخرة بسبب الشيطان، وكيف اتخذ الحوت سبيله في البحر عجباً.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=نسيان" },
            { id: 64, name: "العودة للبحث", emoji: "↩️🔍", ayah: "قَالَ ذَٰلِكَ مَا كُنَّا نَبْغِ ۚ فَارْتَدَّا عَلَىٰ آثَارِهِمَا قَصَصًا", cue: "أدرك موسى أن هذا هو المكان الذي يبحثان عنه، فعادا يتتبعان آثارهما للوراء.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=عودة" },
            { id: 65, name: "لقاء العبد الصالح", emoji: "🤝👤", ayah: "فَوَجَدَا عَبْدًا مِّنْ عِبَادِنَا آتَيْنَاهُ رَحْمَةً مِّنْ عِندِنَا وَعَلَّمْنَاهُ مِن لَّدُنَّا عِلْمًا", cue: "شاهد موسى وفتاه يلتقيان بعبد من عباد الله، آتاه الله رحمة وعلمًا خاصاً من عنده.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=عبد صالح" },
            { id: 66, name: "طلب موسى العلم", emoji: "🎓🚶‍♂️", ayah: "قَالَ لَهُ مُوسَىٰ هَلْ أَتَّبِعُكَ عَلَىٰ أَن تُعَلِّمَنِ مِمَّا عُلِّمْتَ رُشْدًا", cue: "تخيل موسى يطلب من العبد الصالح أن يتبعه ليتعلم منه الرشد والعلم الذي أُعطيه.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=طلب علم" },
            { id: 67, name: "تحذير الخضر", emoji: "🚫 صبر", ayah: "قَالَ إِنَّكَ لَن تَسْتَطِيعَ مَعِيَ صَبْرًا", cue: "اسمع الخضر يخبر موسى أنه لن يستطيع الصبر على ما سيراه من أمور غريبة.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=تحذير" },
            { id: 68, name: "الصبر على المجهول", emoji: "❓🤔", ayah: "وَكَيْفَ تَصْبِرُ عَلَىٰ مَا لَمْ تُحِطْ بِهِ خُبْرًا", cue: "تأمل كيف يمكن أن تصبر على أمر لا تعرف حقيقته أو حكمته.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=مجهول" },
            { id: 69, name: "وعد موسى بالصبر", emoji: "🤝 صبر", ayah: "قَالَ سَتَجِدُنِي إِن شَاءَ اللَّهُ صَابِرًا وَلَا أَعْصِي لَكَ أَمْرًا", cue: "شاهد موسى يؤكد للخضر أنه سيكون صابرًا بإذن الله ولن يعصي له أمراً.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=وعد+صبر" },
            { id: 70, thumn: true, name: "لا تسأل حتى أُحدثك", emoji: "🤫🔇", ayah: "قَالَ فَإِنِ اتَّبَعْتَنِي فَلَا تَسْأَلْنِي عَن شَيْءٍ حَتَّىٰ أُحْدِثَ لَكَ مِنْهُ ذِكْرًا", cue: "اسمع الخضر يضع الشرط: لا تسألني عن أي شيء حتى أخبرك أنا بتفسيره.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=لا تسأل" },
            { id: 71, name: "خرق السفينة", emoji: "🚢💥", ayah: "فَانطَلَقَا حَتَّىٰ إِذَا رَكِبَا فِي السَّفِينَةِ خَرَقَهَا ۖ قَالَ أَخَرَقْتَهَا لِتُغْرِقَ أَهْلَهَا لَقَدْ جِئْتَ شَيْئًا إِمْرًا", cue: "شاهد الخضر يخرق سفينة، وموسى يستنكر فعله الذي قد يُغرق أهلها.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=سفينة" },
            { id: 72, name: "تذكير بالصبر", emoji: "🗣️ صبر", ayah: "قَالَ أَلَمْ أَقُلْ إِنَّكَ لَن تَسْتَطِيعَ مَعِيَ صَبْرًا", cue: "تذكر الخضر موسى بتحذيره الأول: 'ألم أقل إنك لن تستطيع معي صبراً؟'.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=تذكير صبر" },
            { id: 73, name: "عذر النسيان", emoji: "😔🙏", ayah: "قَالَ لَا تُؤَاخِذْنِي بِمَا نَسِيتُ وَلَا تُرْهِقْنِي مِنْ أَمْرِي عُسْرًا", cue: "شاهد موسى يعتذر عن نسيانه، ويطلب ألا يُشدد عليه في أمره.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=عذر" },
            { id: 74, name: "قتل الغلام", emoji: "👦🔪", ayah: "فَانطَلَقَا حَتَّىٰ إِذَا لَقِيَا غُلَامًا فَقَتَلَهُ قَالَ أَقَتَلْتَ نَفْسًا زَكِيَّةً بِغَيْرِ نَفْسٍ لَّقَدْ جِئْتَ شَيْئًا نُّكْرًا", cue: "شاهد الخضر يقتل غلاماً، وموسى يستنكر قتل نفس بريئة دون ذنب.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=غلام" },
            { id: 75, name: "تذكير آخر بالصبر", emoji: "🗣️ صبر", ayah: "قَالَ أَلَمْ أَقُل لَّكَ إِنَّكَ لَن تَسْتَطِيعَ مَعِيَ صَبْرًا", cue: "اسمع الخضر يكرر تحذيره لموسى حول عدم قدرته على الصبر.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=تذكير صبر2" },
            { id: 76, name: "حد الفراق", emoji: "👋🚪", ayah: "قَالَ إِن سَأَلْتُكَ عَن شَيْءٍ بَعْدَهَا فَلَا تُصَاحِبْنِي ۖ قَدْ بَلَغْتَ مِن لَّدُنِّي عُذْرًا", cue: "أقر موسى بأنه إذا سأل مرة أخرى، فسيكون هذا هو حد الفراق بينهما.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=فراق" },
            { id: 77, name: "إقامة الجدار", emoji: "🧱🏗️", ayah: "فَانطَلَقَا حَتَّىٰ إِذَا أَتَيَا أَهْلَ قَرْيَةٍ اسْتَطْعَمَا أَهْلَهَا فَأَبَوْا أَن يُضَيِّفُوهُمَا فَوَجَدَا فِيهَا جِدَارًا يُرِيدُ أَن يَنقَضَّ فَأَقَامَهُ ۖ قَالَ لَوْ شِئْتَ لَاتَّخَذْتَ عَلَيْهِ أَجْرًا", cue: "وصلا قرية بخلاء، فرأى الخضر جدارًا آيلاً للسقوط فأقامه، وموسى يتساءل عن أجره.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=جدار" },
            { id: 78, name: "شرح الفراق", emoji: "🗣️💡", ayah: "قَالَ هَٰذَا فِرَاقُ بَيْنِي وَبَيْنِكَ ۚ سَأُنَبِّئُكَ بِتَأْوِيلِ مَا لَمْ تَسْتَطِع عَّلَيْهِ صَبْرًا", cue: "أعلن الخضر الفراق، ووعد موسى بتأويل الأمور التي لم يستطع الصبر عليها.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=شرح فراق" },
            { id: 79, name: "تأويل السفينة", emoji: "🚢👑", ayah: "أَمَّا السَّفِينَةُ فَكَانَتْ لِمَسَاكِينَ يَعْمَلُونَ فِي الْبَحْرِ فَأَرَدتُّ أَنْ أَعِيبَهَا وَكَانَ وَرَاءَهُم مَّلِكٌ يَأْخُذُ كُلَّ سَفِينَةٍ غَصْبًا", cue: "علم موسى أن السفينة كانت لمساكين، وأن الخرق كان لحمايتها من ملك يأخذ كل سفينة صالحة.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=تأويل سفينة" },
            { id: 80, name: "تأويل الغلام", emoji: "👦👿", ayah: "وَأَمَّا الْغُلَامُ فَكَانَ أَبَوَاهُ مُؤْمِنَيْنِ فَخَشِينَا أَن يُرْهِقَهُمَا طُغْيَانًا وَكُفْرًا", cue: "عرف موسى أن الغلام كان سيورث أبويه الكفر والطغيان لو عاش.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=تأويل غلام" },
            { id: 81, name: "التبديل بخير", emoji: "👶✨", ayah: "فَأَرَدْنَا أَن يُبْدِلَهُمَا رَبُّهُمَا خَيْرًا مِّنْهُ زَكَاةً وَأَقْرَبَ رُحْمًا", cue: "تذكر أن الله أراد أن يبدلهما غلاماً خيراً منه طهراً ورحمة.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=تبديل" },
            { id: 82, name: "تأويل الجدار والكنز", emoji: "🧱💰", ayah: "وَأَمَّا الْجِدَارُ فَكَانَ لِغُلَامَيْنِ يَتِيمَيْنِ فِي الْمَدِينَةِ وَكَانَ تَحْتَهُ كَنزٌ لَّهُمَا وَكَانَ أَبُوهُمَا صَالِحًا فَأَرَادَ رَبُّكَ أَن يَبْلُغَا أَشُدَّهُمَا وَيَسْتَخْرِجَا كَنزَهُمَا رَحْمَةً مِّن رَّبِّكَ ۚ وَمَا فَعَلْتُهُ عَنْ أَمْرِي ۚ ذَٰلِكَ تَأْوِيلُ مَا لَمْ تَسْطِع عَّلَيْهِ صَبْرًا", cue: "عرف موسى أن الجدار كان يحوي كنزاً ليتيمين، وأن إقامته كانت رحمة من الله لهما، وكل ذلك بأمر الله لا من الخضر.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=تأويل جدار" },
            { id: 83, thumn: true, name: "سؤال عن ذي القرنين", emoji: "❓👑", ayah: "وَيَسْأَلُونَكَ عَن ذِي الْقَرْنَيْنِ ۖ قُلْ سَأَتْلُو عَلَيْكُم مِّنْهُ ذِكْرًا", cue: "تخيل سؤال الناس عن ذي القرنين، وتذكر أن القرآن سيتلو عليك خبره.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=ذي القرنين" },
            { id: 84, name: "تمكين ذي القرنين", emoji: "🌎💪", ayah: "إِنَّا مَكَّنَّا لَهُ فِي الْأَرْضِ وَآتَيْنَاهُ مِن كُلِّ شَيْءٍ سَبَبًا", cue: "شاهد ذا القرنين وهو ممكن في الأرض، ومعه كل الأسباب اللازمة لرحلاته.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=تمكين" },
            { id: 85, name: "اتّباع السبب", emoji: "🚶‍♂️🗺️", ayah: "فَأَتْبَعَ سَبَبًا", cue: "تخيل ذا القرنين يتبع سبباً وطريقاً نحو وجهته.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=سبب" },
            { id: 86, name: "مغرب الشمس", emoji: "🌅👁️‍🗨️", ayah: "حَتَّىٰ إِذَا بَلَغَ مَغْرِبَ الشَّمْسِ وَجَدَهَا تَغْرُبُ فِي عَيْنٍ حَمِئَةٍ وَوَجَدَ عِندَهَا قَوْمًا ۗ قُلْنَا يَا ذَا الْقَرْنَيْنِ إِمَّا أَن تُعَذِّبَ وَإِمَّا أَن تَتَّخِذَ فِيهِمْ حُسْنًا", cue: "شاهد الشمس تغرب في عين ماء طينية، وهناك قوم عند تلك العين، وذي القرنين يخير بين عذابهم أو الإحسان إليهم.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=مغرب" },
            { id: 87, name: "جزاء الظالم", emoji: "😠🔥", ayah: "قَالَ أَمَّا مَن ظَلَمَ فَسَوْفَ نُعَذِّبُهُ ثُمَّ يُرَدُّ إِلَىٰ رَبِّهِ فَيُعَذِّبُهُ عَذَابًا نُّكْرًا", cue: "اسمع ذا القرنين يقرر أن الظالم سيعذب، ثم يعود إلى ربه فيعذبه عذاباً أشد.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=ظالم" },
            { id: 88, name: "جزاء المؤمن الصالح", emoji: "😇🎁", ayah: "وَأَمَّا مَنْ آمَنَ وَعَمِلَ صَالِحًا فَلَهُ جَزَاءً الْحُسْنَىٰ ۖ وَسَنَقُولُ لَهُ مِنْ أَمْرِنَا يُسْرًا", cue: "تذكر أن المؤمن الصالح له الجزاء الحسن، وسيقال له من الأمر ما هو يسير.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=مؤمن" },
            { id: 89, name: "الرحلة شرقاً", emoji: "🚶‍♂️🗺️", ayah: "ثُمَّ أَتْبَعَ سَبَبًا", cue: "شاهد ذو القرنين يتبع سبباً آخر في رحلته نحو الشرق.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=شرق" },
            { id: 90, name: "مطلع الشمس", emoji: "🌄🌞", ayah: "حَتَّىٰ إِذَا بَلَغَ مَطْلِعَ الشَّمْسِ وَجَدَهَا تَطْلُعُ عَلَىٰ قَوْمٍ لَّمْ نَجْعَل لَّهُمْ مِّن دُونِهَا سِتْرًا", cue: "شاهد الشمس تشرق على قوم لا ساتر لهم يحميهم منها.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=مطلع" },
            { id: 91, name: "علم الله الشامل", emoji: "🧠🌌", ayah: "كَذَٰلِكَ ۖ وَقَدْ أَحَطْنَا بِمَا لَدَيْهِ خُبْرًا", cue: "تذكر أن الله أحاط علماً بكل ما كان لدى ذي القرنين من خبر ومعرفة.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=علم الله" },
            { id: 92, name: "الرحلة الثالثة", emoji: "🚶‍♂️🗺️", ayah: "ثُمَّ أَتْبَعَ سَبَبًا", cue: "شاهد ذو القرنين يتبع سبباً ثالثاً في رحلة جديدة.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=رحلة3" },
            { id: 93, name: "بين السدين", emoji: "⛰️⛰️", ayah: "حَتَّىٰ إِذَا بَلَغَ بَيْنَ السَّدَّيْنِ وَجَدَ مِن دُونِهِمَا قَوْمًا لَّا يَكَادُونَ يَفْقَهُونَ قَوْلًا", cue: "شاهد ذي القرنين يصل إلى مكان بين جبلين عظيمين، وهناك قوم لا يفقهون قولاً.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=سدين" },
            { id: 94, name: "يأجوج ومأجوج والسد", emoji: "😈😈🧱", ayah: "قَالُوا يَا ذَا الْقَرْنَيْنِ إِنَّ يَأْجُوجَ وَمَأْجُوجَ مُفْسِدُونَ فِي الْأَرْضِ فَهَلْ نَجْعَلُ لَكَ خَرْجًا عَلَىٰ أَن تَجْعَلَ بَيْنَنَا وَبَيْنَهُمْ سَدًّا", cue: "اسمع القوم يشتكون من إفساد يأجوج ومأجوج، ويطلبون من ذي القرنين بناء سد بينهم مقابل أجر.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=يأجوج" },
            { id: 95, name: "قوة من الله", emoji: "💪👷‍♂️", ayah: "قَالَ مَا مَكَّنِّي فِيهِ رَبِّي خَيْرٌ فَأَعِينُونِي بِقُوَّةٍ أَجْعَلْ بَيْنَكُمْ وَبَيْنَهُمْ رَدْمًا", cue: "شاهد ذي القرنين يرفض الأجر، ويطلب منهم المساعدة بقوة لبناء ردم يحجز يأجوج ومأجوج.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=قوة" },
            { id: 96, thumn: true, name: "بناء السد", emoji: "⚙️🔥", ayah: "آتُونِي زُبَرَ الْحَدِيدِ ۖ حَتَّىٰ إِذَا سَاوَىٰ بَيْنَ الصَّدَفَيْنِ قَالَ انفُخُوا ۖ حَتَّىٰ إِذَا جَعَلَهُ نَارًا قَالَ آتُونِي أُفْرِغْ عَلَيْهِ قِطْرًا", cue: "شاهد عملية بناء السد: قطع الحديد، النفخ بالنار حتى صارت حمراء، ثم صب النحاس المذاب عليها.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=بناء سد" },
            { id: 97, name: "سد منيع", emoji: "🚫🚧", ayah: "فَمَا اسْطَاعُوا أَن يَظْهَرُوهُ وَمَا اسْتَطَاعُوا لَهُ نَقْبًا", cue: "تخيل السد المنيع الذي لا يستطيع يأجوج ومأجوج تسلقه أو اختراقه.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=سد منيع" },
            { id: 98, name: "رحمة من ربي واندثار السد", emoji: "🤲⏳", ayah: "قَالَ هَٰذَا رَحْمَةٌ مِّن رَّبِّي ۖ فَإِذَا جَاءَ وَعْدُ رَبِّي جَعَلَهُ دَكَّاءَ ۖ وَكَانَ وَعْدُ رَبِّي حَقًّا", cue: "تذكر أن هذا السد رحمة من الله، وأنه سيتدمر عندما يأتي وعد ربي الحق.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=رحمة ربي" },
            { id: 99, name: "يوم القيامة والنفخ في الصور", emoji: "🌬️🎺", ayah: "وَتَرَكْنَا بَعْضَهُمْ يَوْمَئِذٍ يَمُوجُ فِي بَعْضٍ ۖ وَنُفِخَ فِي الصُّورِ فَجَمَعْنَاهُمْ جَمْعًا", cue: "شاهد يوم القيامة، الناس يموجون بعضهم في بعض، ثم النفخ في الصور فيُجمعون جميعاً.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=قيامة" },
            { id: 100, name: "عرض جهنم", emoji: "🔥👁️‍🗨️", ayah: "وَعَرَضْنَا جَهَنَّمَ يَوْمَئِذٍ لِّلْكَافِرِينَ عَرْضًا", cue: "تخيل جهنم تُعرض بوضوح أمام الكافرين يوم القيامة.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=جهنم" },
            { id: 101, name: "الغشاوة والوقر", emoji: "🙈🙉", ayah: "الَّذِينَ كَانَتْ أَعْيُنُهُمْ فِي غِطَاءٍ عَن ذِكْرِي وَكَانُوا لَا يَسْتَطِيعُونَ سَمْعًا", cue: "شاهد عيونًا عليها غشاوة وآذانًا فيها وقر، فلا يرون ولا يسمعون ذكر الله.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=غشاوة" },
            { id: 102, name: "جهنم للكافرين", emoji: "😈🔥", ayah: "أَفَحَسِبَ الَّذِينَ كَفَرُوا أَن يَتَّخِذُوا عِبَادِي مِن دُونِي أَوْلِيَاءَ ۚ إِنَّا أَعْتَدْنَا جَهَنَّمَ لِلْكَافِرِينَ نُزُلًا", cue: "تذكر أن الكافرين يظنون أنهم يتخذون أولياء من دون الله، وأن جهنم هي مأواهم.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=مأوى" },
            { id: 103, name: "الأخسرين أعمالاً", emoji: "📉😔", ayah: "قُلْ هَلْ نُنَبِّئُكُم بِالْأَخْسَرِينَ أَعْمَالًا", cue: "اسمع صوتًا يسأل: هل تريد أن تعرف من هم أخسر الناس أعمالاً؟", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=أخسرين" },
            { id: 104, name: "ضلال السعي", emoji: "🚶‍♂️❌", ayah: "الَّذِينَ ضَلَّ سَعْيُهُمْ فِي الْحَيَاةِ الدُّنْيَا وَهُمْ يَحْسَبُونَ أَنَّهُمْ يُحْسِنُونَ صُنْعًا", cue: "شاهد أناساً يجهدون في أعمال الدنيا، ويظنون أنهم يحسنون صنعاً، بينما سعيهم ضائع.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=ضلال" },
            { id: 105, name: "أعمال حابطة", emoji: "📜💨", ayah: "أُولَٰئِكَ الَّذِينَ كَفَرُوا بِآيَاتِ رَبِّهِمْ وَلِقَائِهِ فَحَبِطَتْ أَعْمَالُهُمْ فَلَا نُقِيمُ لَهُمْ يَوْمَ الْقِيَامَةِ وَزْنًا", cue: "تخيل أعمالاً تتحول إلى رماد، لا وزن لها يوم القيامة بسبب الكفر بآيات الله ولقائه.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=حابطة" },
            { id: 106, name: "جزاء جهنم", emoji: "🔥👎", ayah: "ذَٰلِكَ جَزَاؤُهُمْ جَهَنَّمُ بِمَا كَفَرُوا وَاتَّخَذُوا آيَاتِي وَرُسُلِي هُزُوًا", cue: "تذكر أن جزاء الكافرين هو جهنم بسبب كفرهم وسخريتهم من آيات الله ورسله.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=جزاء" },
            { id: 107, name: "جنات الفردوس", emoji: "🌺👑", ayah: "إِنَّ الَّذِينَ آمَنُوا وَعَمِلُوا الصَّالِحَاتِ كَانَتْ لَهُمْ جَنَّاتُ الْفِرْدَوْسِ نُزُلًا", cue: "شاهد جنات الفردوس، أعلى الجنات، معدة لنزول المؤمنين الصالحين.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=فردوس" },
            { id: 108, name: "الخلود في الفردوس", emoji: "♾️💫", ayah: "خَالِدِينَ فِيهَا لَا يَبْغُونَ عَنْهَا حِوَلًا", cue: "تخيل أنك في مكان لا تريد أن تتحول عنه أبداً، خالدًا فيه إلى الأبد.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=خلود+فردوس" },
            { id: 109, name: "بحر الكلمات الإلهية", emoji: "🌊✍️", ayah: "قُل لَّوْ كَانَ الْبَحْرُ مِدَادًا لِّكَلِمَاتِ رَبِّي لَنَفِدَ الْبَحْرُ قَبْلَ أَن تَنفَدَ كَلِمَاتُ رَبِّي وَلَوْ جِئْنَا بِمِثْلِهِ مَدَدًا", cue: "تخيل البحار كلها حبراً، ولن تكفي لكتابة كلمات الله، حتى لو جئنا ببحار أخرى.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=بحر كلمات" },
            { id: 110, thumn: true, name: "التوحيد والعمل الصالح", emoji: "☝️🤲", ayah: "قُلْ إِنَّمَا أَنَا بَشَرٌ مِّثْلُكُمْ يُوحَىٰ إِلَيَّ أَنَّمَا إِلَٰهُكُمْ إِلَٰهٌ وَاحِدٌ ۖ فَمَن كَانَ يَرْجُو لِقَاءَ رَبِّهِ فَلْيَعْمَلْ عَمَلًا صَالِحًا وَلَا يُشْرِكْ بِعِبَادَةِ رَبِّهِ أَحَدًا", cue: "تذكر أن النبي بشر يوحى إليه، وأن الإله واحد، فمن أراد لقاء ربه فليعمل صالحًا ولا يشرك به شيئاً.", imageUrl: "https://placehold.co/100x100/D1FAE5/065F46?text=ختام" }
        ];

        let currentStationIndex = -1;
        let progressChartInstance;

        const stationsListDiv = document.getElementById('stationsList');
        const modal = document.getElementById('stationModal');
        const modalStationName = document.getElementById('modalStationName');
        const modalStationImage = document.getElementById('modalStationImage');
        const modalStationAyah = document.getElementById('modalStationAyah');
        const modalStationCue = document.getElementById('modalStationCue');
        const modalStationNumber = document.getElementById('modalStationNumber');
        const closeModalButton = document.getElementById('closeModalButton');
        const prevStationButton = document.getElementById('prevStationButton');
        const nextStationButton = document.getElementById('nextStationButton');
        const progressSectionDiv = document.getElementById('progressSection');

        const modalInnerContent = modal.querySelector('.bg-white');
        const modalScrollableArea = modal.querySelector('.modal-scrollable-content');
        const modalNavButtonsDiv = modal.querySelector('.mt-auto.pt-4');

        let originalProgressParent = progressSectionDiv.parentNode;
        let originalProgressClasses = progressSectionDiv.className;

        function renderStationsList() {
            stationsListDiv.innerHTML = '';

            stationsData.forEach((station, index) => {
                const stationDiv = document.createElement('div');
                stationDiv.className = 'station-item bg-white p-4 rounded-lg shadow-md cursor-pointer flex items-center space-x-3 space-x-reverse';

                if (station.thumn) {
                    stationDiv.classList.add('thumn-highlight');
                }

                stationDiv.innerHTML = `
                    <span class="text-2xl">${station.emoji}</span>
                    <span class="flex-grow text-emerald-700 font-semibold">${station.name}</span>
                    <span class="text-sm text-stone-500">محطة ${station.id}</span>
                `;
                stationDiv.addEventListener('click', () => openStationModal(index));
                stationsListDiv.appendChild(stationDiv);
            });
        }

        function openStationModal(index) {
            currentStationIndex = index;
            const station = stationsData[index];
            modalStationName.textContent = `${station.emoji} ${station.name}`;
            modalStationAyah.textContent = station.ayah;
            modalStationCue.textContent = station.cue;
            modalStationNumber.textContent = `محطة ${station.id} من ${stationsData.length}`;

            if (station.imageUrl) {
                modalStationImage.src = station.imageUrl;
                modalStationImage.style.display = 'block';
            } else {
                modalStationImage.style.display = 'none';
            }

            modal.classList.remove('hidden');
            modal.classList.add('opacity-100');

            if (progressSectionDiv.parentNode !== modalInnerContent) {
                originalProgressParent = progressSectionDiv.parentNode;
                originalProgressClasses = progressSectionDiv.className;
            }

            progressSectionDiv.classList.remove('my-8');
            progressSectionDiv.classList.add('mb-4', 'mt-4');

            modalInnerContent.insertBefore(progressSectionDiv, modalNavButtonsDiv);

            prevStationButton.disabled = index === 0;
            nextStationButton.disabled = index === stationsData.length - 1;

            updateProgressChart(currentStationIndex);
            modalScrollableArea.scrollTop = 0;
        }

        function closeModal() {
            modal.classList.add('hidden');
            modal.classList.remove('opacity-100');

            if (originalProgressParent && progressSectionDiv.parentNode === modalInnerContent) {
                originalProgressParent.appendChild(progressSectionDiv);
                progressSectionDiv.className = originalProgressClasses;
            }
        }

        closeModalButton.addEventListener('click', closeModal);
        modal.addEventListener('click', (event) => {
            if (event.target === modal) {
                closeModal();
            }
        });

        prevStationButton.addEventListener('click', () => {
            if (currentStationIndex > 0) {
                openStationModal(currentStationIndex - 1);
            }
        });

        nextStationButton.addEventListener('click', () => {
            if (currentStationIndex < stationsData.length - 1) {
                openStationModal(currentStationIndex + 1);
            }
        });

        document.addEventListener('keydown', (event) => {
            if (!modal.classList.contains('hidden')) {
                if (event.key === 'Escape') {
                    closeModal();
                } else if (event.key === 'ArrowRight' && !nextStationButton.disabled) {
                    nextStationButton.click();
                } else if (event.key === 'ArrowLeft' && !prevStationButton.disabled) {
                    prevStationButton.click();
                }
            }
        });

        function initProgressChart() {
            const ctx = document.getElementById('progressChart').getContext('2d');
            Chart.defaults.font.family = "'Noto Naskh Arabic', serif";
            progressChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['التقدم في الرحلة'],
                    datasets: [{
                        label: 'المحطات التي تم عرضها',
                        data: [0],
                        backgroundColor: ['rgba(16, 185, 129, 0.7)'],
                        borderColor: ['rgb(16, 185, 129)'],
                        borderWidth: 1,
                        borderRadius: 5,
                        barThickness: 30,
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            beginAtZero: true,
                            max: stationsData.length,
                            ticks: {
                                stepSize: 10,
                                color: '#57534e',
                                font: { size: 10 }
                            },
                            grid: { display: false }
                        },
                        y: {
                            display: false,
                            grid: { display: false }
                        }
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            enabled: true,
                            rtl: true,
                            callbacks: {
                                label: function (context) {
                                    return ` المحطات: ${context.raw}`;
                                }
                            }
                        }
                    }
                }
            });
        }

        function updateProgressChart(currentIndex) {
            if (progressChartInstance) {
                progressChartInstance.data.datasets[0].data[0] = currentIndex + 1;
                progressChartInstance.update();
            }
        }

        renderStationsList();
        initProgressChart();
    </script>
</body>

</html>